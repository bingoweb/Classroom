<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - 2/D SÄ±nÄ±f Panosu</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/fonts.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* 3D Typewriter Button Effect */
        .theme-btn {
            position: relative;
            padding: 15px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: white;
            transition: all 0.1s;
            /* 3D Depth */
            box-shadow: 0 5px 0 rgba(0, 0, 0, 0.2), 0 10px 10px rgba(0, 0, 0, 0.1);
            transform: translateY(0);
            margin-bottom: 5px;
            /* Yer aÃ§mak iÃ§in */
        }

        .theme-btn:active,
        .theme-btn.active {
            /* Pressed State */
            transform: translateY(5px);
            box-shadow: 0 0 0 rgba(0, 0, 0, 0.2), 0 0 0 rgba(0, 0, 0, 0.1);
            filter: brightness(0.9);
        }

        /* Specific Gradients - ULTRA VIBRANT MATCHING */
        body {
            /* font-family set in style.css */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            font-feature-settings: "kern" 1, "liga" 1;
        }

        /* Hot Pink -> Orange -> Lime */
        .btn-neon {
            background: linear-gradient(135deg, #ff0055 0%, #ffaa00 50%, #00ff00 100%);
        }

        /* Deep Blue -> Cyan -> White */
        .btn-ocean {
            background: linear-gradient(135deg, #0000ff 0%, #00ffff 100%);
        }

        /* Purple -> Magenta -> Orange */
        .btn-sunset {
            background: linear-gradient(135deg, #cc00cc 0%, #ff0066 50%, #ff9933 100%);
        }

        /* Green -> Bright Lime */
        .btn-forest {
            background: linear-gradient(135deg, #009900 0%, #ccff00 100%);
        }

        /* Red -> Hot Pink */
        .btn-love {
            background: linear-gradient(135deg, #ff0000 0%, #ff0066 100%);
        }

        /* Indigo -> Neon Purple */
        .btn-royal {
            background: linear-gradient(135deg, #4b0082 0%, #cc00ff 100%);
        }

        /* Deep Blue -> Cyan */
        .btn-ice {
            background: linear-gradient(135deg, #0055ff 0%, #00ffff 100%);
        }

        /* Red -> Orange -> Yellow */
        .btn-fire {
            background: linear-gradient(135deg, #ff0000 0%, #ffcc00 100%);
        }

        /* Dark Green -> Neon Green */
        .btn-matrix {
            background: linear-gradient(135deg, #000000 0%, #00ff00 100%);
            border: 1px solid #00ff00 !important;
            color: #00ff00 !important;
        }

        /* Rainbow */
        .btn-rainbow {
            background: linear-gradient(90deg, #ff0000, #00ff00, #0000ff, #ffff00);
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Admin Panel</h1>
        <button onclick="showQRCode()"
            style="float: right; margin-top: -60px; padding: 10px 20px; background: var(--secondary); border: none; border-radius: 10px; color: white; cursor: pointer;">ğŸ“±
            Mobil BaÄŸlan</button>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('students')">Ã–ÄŸrenciler</button>
            <button class="tab-btn" onclick="showTab('roles')">GÃ¶revler</button>
            <button class="tab-btn" onclick="showTab('attendance')">Yoklama</button>
            <button class="tab-btn" onclick="showTab('slides')">Slayt YÃ¶netimi</button>
            <button class="tab-btn" onclick="showTab('settings')">Ayarlar</button>
        </div>

        <!-- Students Section -->
        <!-- Students Section - REDESIGNED -->
        <div id="students" class="content-section active">

            <!-- Header with Stats -->
            <div
                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 15px; color: white; margin-bottom: 25px; box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                    <div>
                        <h1 style="margin: 0 0 10px 0; font-size: 2rem; display: flex; align-items: center; gap: 10px;">
                            ğŸ‘¨â€ğŸ“ Ã–ÄŸrenci YÃ¶netimi
                        </h1>
                        <p style="margin: 0; opacity: 0.9; font-size: 1rem;">
                            Ã–ÄŸrencileri ekleyin, dÃ¼zenleyin ve yÃ¶netin
                        </p>
                    </div>
                    <div id="studentStats"
                        style="display: flex; gap: 20px; background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 10px; backdrop-filter: blur(10px);">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold;" id="totalStudents">0</div>
                            <div style="font-size: 0.85rem; opacity: 0.9;">Toplam</div>
                        </div>
                        <div style="width: 2px; background: rgba(255,255,255,0.3);"></div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold;" id="maleStudents">0</div>
                            <div style="font-size: 0.85rem; opacity: 0.9;">ğŸ‘¦ Erkek</div>
                        </div>
                        <div style="width: 2px; background: rgba(255,255,255,0.3);"></div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: bold;" id="femaleStudents">0</div>
                            <div style="font-size: 0.85rem; opacity: 0.9;">ğŸ‘§ KÄ±z</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Cards Grid -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-bottom: 25px;">

                <!-- Add Single Student Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.3rem;">
                        â• Tekli Ã–ÄŸrenci Ekle
                    </h2>
                    <p style="opacity: 0.95; font-size: 0.9rem; margin-bottom: 20px;">
                        Bir Ã¶ÄŸrenci eklemek iÃ§in formu doldurun
                    </p>
                    <form id="addStudentForm" style="display: flex; flex-direction: column; gap: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem;">
                                ğŸ“ Ad Soyad <span style="color: #ffeb3b;">*</span>
                            </label>
                            <input type="text" name="name" placeholder="Ã–rn: Ahmet YÄ±lmaz" required
                                style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; color: #333;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem;">
                                ğŸ‘¤ Cinsiyet <span style="color: #ffeb3b;">*</span>
                            </label>
                            <select name="gender" required
                                style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; cursor: pointer; color: #333;">
                                <option value="M">ğŸ‘¦ Erkek</option>
                                <option value="F">ğŸ‘§ KÄ±z</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem;">
                                ğŸ“· FotoÄŸraf <span style="opacity: 0.7; font-size: 0.85rem;">(opsiyonel)</span>
                            </label>
                            <input type="file" name="photo" accept="image/*"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 0.9rem; cursor: pointer;">
                            <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.8rem;">
                                ğŸ’¡ BoÅŸ bÄ±rakÄ±rsanÄ±z varsayÄ±lan avatar kullanÄ±lÄ±r
                            </small>
                        </div>
                        <button type="submit"
                            style="padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 1.1rem; font-weight: 600; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s; margin-top: 10px;">
                            âœ… Ã–ÄŸrenci Ekle
                        </button>
                    </form>
                </div>

                <!-- Excel Import Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.3rem;">
                        ğŸ“Š Excel'den Toplu Ekle
                    </h2>
                    <p style="opacity: 0.95; font-size: 0.9rem; margin-bottom: 15px;">
                        E-okul formatÄ±nda Excel dosyasÄ± yÃ¼kleyin
                    </p>

                    <!-- Excel Format Info -->
                    <div style="background: rgba(0,0,0,0.15); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="font-weight: 600; margin-bottom: 8px; font-size: 0.95rem;">ğŸ“‹ Gerekli Format:</div>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.85rem; line-height: 1.6; opacity: 0.95;">
                            <li>Ä°lk satÄ±r baÅŸlÄ±k olmalÄ±</li>
                            <li>SÃ¼tunlar: "Ã–ÄŸrenci No", "Ad Soyad", "Cinsiyet"</li>
                            <li>Cinsiyet: E=Erkek, K=KÄ±z</li>
                            <li>E-okul'dan alÄ±nan dosyalar uyumludur</li>
                        </ul>
                    </div>

                    <form id="excelImportForm" style="display: flex; flex-direction: column; gap: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem;">
                                ğŸ“ Excel DosyasÄ± <span style="color: #ffeb3b;">*</span>
                            </label>
                            <input type="file" id="excelFileInput" accept=".xlsx,.xls" required
                                style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 0.9rem; cursor: pointer;">
                            <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.8rem;">
                                ğŸ’¡ Desteklenen: .xlsx, .xls
                            </small>
                        </div>
                        <button type="submit"
                            style="padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 1.1rem; font-weight: 600; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s; margin-top: 10px;">
                            ğŸ“¤ Excel'i YÃ¼kle
                        </button>
                    </form>
                    <div id="excelImportResult"
                        style="margin-top: 15px; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.2);">
                    </div>
                </div>
            </div>

            <!-- Student List Card -->
            <div class="card" style="padding: 25px;">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                    <h2 style="margin: 0; display: flex; align-items: center; gap: 10px; color: var(--primary);">
                        ğŸ“š Ã–ÄŸrenci Listesi
                    </h2>

                    <!-- Search and Filter -->
                    <div style="display: flex; gap: 10px; flex: 1; max-width: 600px;">
                        <input type="text" id="studentSearch" placeholder="ğŸ” Ã–ÄŸrenci ara..." onkeyup="filterStudents()"
                            style="flex: 1; padding: 10px 15px; border: 2px solid rgba(102, 126, 234, 0.2); border-radius: 8px; font-size: 1rem;">
                        <select id="genderFilter" onchange="filterStudents()"
                            style="padding: 10px 15px; border: 2px solid rgba(102, 126, 234, 0.2); border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            <option value="">TÃ¼mÃ¼</option>
                            <option value="M">ğŸ‘¦ Erkek</option>
                            <option value="F">ğŸ‘§ KÄ±z</option>
                        </select>
                    </div>
                </div>

                <!-- Students Grid/List -->
                <div id="studentList"
                    style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; margin-top: 20px;">
                    <!-- Students will be rendered here -->
                </div>
            </div>

        </div>


        <!-- Roles Section - REDESIGNED -->
        <div id="roles" class="content-section">

            <!-- Header -->
            <div
                style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 25px; border-radius: 15px; color: white; margin-bottom: 25px; box-shadow: 0 4px 20px rgba(250, 112, 154, 0.3);">
                <h1 style="margin: 0 0 10px 0; font-size: 2rem; display: flex; align-items: center; gap: 10px;">
                    ğŸ¯ GÃ¶rev YÃ¶netimi
                </h1>
                <p style="margin: 0; opacity: 0.95; font-size: 1rem;">
                    SÄ±nÄ±f baÅŸkanÄ±, yardÄ±mcÄ±lar, nÃ¶betÃ§iler ve haftanÄ±n yÄ±ldÄ±zlarÄ±nÄ± atayÄ±n
                </p>
            </div>

            <!-- Role Assignment Cards -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; margin-bottom: 25px;">

                <!-- President Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 25px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                        <div style="font-size: 2.5rem;">ğŸ‘‘</div>
                        <div>
                            <h3 style="margin: 0; font-size: 1.3rem;">SÄ±nÄ±f BaÅŸkanÄ±</h3>
                            <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.85rem;">SÄ±nÄ±fÄ±n lideri</p>
                        </div>
                    </div>

                    <div
                        style="background: rgba(255,255,255,0.15); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="font-size: 0.85rem; opacity: 0.9; margin-bottom: 8px;">ğŸ’¡ Maksimum: 1 kiÅŸi</div>
                    </div>

                    <select id="presidentSelect"
                        style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; margin-bottom: 12px; cursor: pointer; color: #333;">
                        <option value="">Ã–ÄŸrenci seÃ§in...</option>
                    </select>

                    <button onclick="assignRole('president')"
                        style="width: 100%; padding: 14px; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: #333; border: none; border-radius: 10px; cursor: pointer; font-size: 1.05rem; font-weight: 600; box-shadow: 0 4px 15px rgba(67, 233, 123, 0.4); transition: all 0.3s;">
                        âœ… BaÅŸkan Ata
                    </button>

                    <div id="currentPresident"
                        style="margin-top: 15px; padding: 12px; background: rgba(0,0,0,0.15); border-radius: 8px; min-height: 50px;">
                        <!-- Current president will be shown here -->
                    </div>
                </div>

                <!-- Vice Presidents Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; padding: 25px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                        <div style="font-size: 2.5rem;">ğŸ¤</div>
                        <div>
                            <h3 style="margin: 0; font-size: 1.3rem;">BaÅŸkan YardÄ±mcÄ±larÄ±</h3>
                            <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.85rem;">BaÅŸkanÄ±n destekÃ§ileri</p>
                        </div>
                    </div>

                    <div
                        style="background: rgba(255,255,255,0.15); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="font-size: 0.85rem; opacity: 0.9; margin-bottom: 8px;">ğŸ’¡ Maksimum: 2 kiÅŸi</div>
                    </div>

                    <select id="vicePresidentSelect"
                        style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; margin-bottom: 12px; cursor: pointer; color: #333;">
                        <option value="">Ã–ÄŸrenci seÃ§in...</option>
                    </select>

                    <button onclick="assignRole('vice_president')"
                        style="width: 100%; padding: 14px; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: #333; border: none; border-radius: 10px; cursor: pointer; font-size: 1.05rem; font-weight: 600; box-shadow: 0 4px 15px rgba(67, 233, 123, 0.4); transition: all 0.3s;">
                        â• YardÄ±mcÄ± Ekle
                    </button>

                    <div id="currentVicePresidents"
                        style="margin-top: 15px; padding: 12px; background: rgba(0,0,0,0.15); border-radius: 8px; min-height: 50px;">
                        <!-- Current vice presidents will be shown here -->
                    </div>
                </div>

                <!-- Duty Students Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; padding: 25px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                        <div style="font-size: 2.5rem;">ğŸ§¹</div>
                        <div>
                            <h3 style="margin: 0; font-size: 1.3rem;">NÃ¶betÃ§iler</h3>
                            <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.85rem;">SÄ±nÄ±f dÃ¼zeni sorumlularÄ±</p>
                        </div>
                    </div>

                    <div
                        style="background: rgba(255,255,255,0.15); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="font-size: 0.85rem; opacity: 0.9; margin-bottom: 8px;">ğŸ’¡ Maksimum: 4 kiÅŸi</div>
                    </div>

                    <select id="dutySelect"
                        style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; margin-bottom: 12px; cursor: pointer; color: #333;">
                        <option value="">Ã–ÄŸrenci seÃ§in...</option>
                    </select>

                    <button onclick="assignRole('duty')"
                        style="width: 100%; padding: 14px; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: #333; border: none; border-radius: 10px; cursor: pointer; font-size: 1.05rem; font-weight: 600; box-shadow: 0 4px 15px rgba(67, 233, 123, 0.4); transition: all 0.3s;">
                        â• NÃ¶betÃ§i Ekle
                    </button>

                    <div id="currentDuty"
                        style="margin-top: 15px; padding: 12px; background: rgba(0,0,0,0.15); border-radius: 8px; min-height: 50px;">
                        <!-- Current duty students will be shown here -->
                    </div>
                </div>
            </div>

            <!-- Stars Section -->
            <div class="card"
                style="background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); color: white; border: none; padding: 30px;">
                <div
                    style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 3rem;">â­</div>
                        <div>
                            <h3 style="margin: 0; font-size: 1.5rem;">HaftanÄ±n YÄ±ldÄ±zlarÄ±</h3>
                            <p style="margin: 5px 0 0 0; opacity: 0.95; font-size: 0.9rem;">BaÅŸarÄ±lÄ± Ã¶ÄŸrencileri
                                Ã¶dÃ¼llendirin</p>
                        </div>
                    </div>

                    <div
                        style="background: rgba(255,255,255,0.2); padding: 12px 20px; border-radius: 10px; backdrop-filter: blur(10px);">
                        <div style="font-size: 0.85rem; opacity: 0.9;">ğŸ’¡ SÄ±nÄ±rsÄ±z Ã¶ÄŸrenci eklenebilir</div>
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap;">
                    <select id="starSelect"
                        style="flex: 1; min-width: 250px; padding: 14px; border: 2px solid rgba(255,255,255,0.3); border-radius: 10px; background: rgba(255,255,255,0.95); font-size: 1rem; cursor: pointer; color: #333;">
                        <option value="">YÄ±ldÄ±z Ã¶ÄŸrenci seÃ§in...</option>
                    </select>

                    <button onclick="assignRole('star')"
                        style="padding: 14px 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 1.05rem; font-weight: 600; box-shadow: 0 4px 15px rgba(240, 147, 251, 0.4); transition: all 0.3s; white-space: nowrap;">
                        â­ YÄ±ldÄ±z Ekle
                    </button>
                </div>

                <div id="currentStars"
                    style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin-top: 20px; min-height: 100px; padding: 15px; background: rgba(0,0,0,0.15); border-radius: 10px;">
                    <!-- Current stars will be shown here -->
                </div>
            </div>

        </div>

        <!-- Attendance Section -->
        <div id="attendance" class="content-section">
            <div class="card">
                <h2>GÃ¼nlÃ¼k Yoklama</h2>
                <div style="margin-bottom: 15px;">
                    <label>Tarih:</label>
                    <input type="date" id="attendanceDate" style="margin-left: 10px; padding: 5px;">
                    <button onclick="loadAttendanceForDate()"
                        style="margin-left: 10px; padding: 5px 15px;">YÃ¼kle</button>
                    <button onclick="setTodayDate()" style="margin-left: 5px; padding: 5px 15px;">BugÃ¼n</button>
                </div>
                <div id="attendanceList" class="student-list"></div>
                <div style="margin-top: 20px;">
                    <button onclick="saveAttendance()"
                        style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">YoklamayÄ±
                        Kaydet</button>
                </div>
                <div id="attendanceSummary"
                    style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.05); border-radius: 10px;">
                    <h3>Ã–zet</h3>
                    <div id="attendanceSummaryContent"></div>
                </div>
            </div>
        </div>

        <!-- Slides Section -->
        <div id="slides" class="content-section">
            <div class="card">
                <h2>Yeni Slayt Ekle</h2>
                <button onclick="showSlideForm()"
                    style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; margin-bottom: 20px;">+
                    Yeni Slayt Ekle</button>
            </div>

            <div class="card" style="margin-top: 20px;">
                <h2>Slayt Listesi</h2>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 10px;">SlaytlarÄ± sÃ¼rÃ¼kle-bÄ±rak ile
                    sÄ±ralayabilirsiniz.</p>
                <div id="slidesList" class="slides-list">
                    <!-- Slides will be loaded here -->
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <h2>Genel Slayt AyarlarÄ±</h2>
                <form id="slideSettingsForm" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label>VarsayÄ±lan GÃ¶sterim SÃ¼resi (saniye)</label><br>
                        <input type="number" id="defaultDuration" min="1" max="60" value="10"
                            style="width: 100%; margin-top: 5px;">
                    </div>
                    <div>
                        <label>VarsayÄ±lan GeÃ§iÅŸ Modu</label><br>
                        <select id="defaultTransitionMode" style="width: 100%; margin-top: 5px;">
                            <option value="auto">Otomatik AkÄ±llÄ± SeÃ§im</option>
                            <option value="random">Random</option>
                            <option value="manual">Manuel</option>
                        </select>
                    </div>
                    <div>
                        <label>VarsayÄ±lan GeÃ§iÅŸ SÃ¼resi (saniye)</label><br>
                        <input type="number" id="defaultTransitionDuration" min="0.5" max="3" step="0.1" value="1"
                            style="width: 100%; margin-top: 5px;">
                    </div>
                    <button type="submit">AyarlarÄ± Kaydet</button>
                </form>
            </div>
        </div>

        <!-- Error Logs Section -->
        <div id="error-logs" class="content-section">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Hata LoglarÄ±</h2>
                    <div style="display: flex; gap: 10px;">
                        <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                            <input type="checkbox" id="debugModeToggle" onchange="toggleDebugMode()">
                            <span>Debug Modu</span>
                        </label>
                        <button onclick="refreshErrorLogs()"
                            style="padding: 8px 15px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">Yenile</button>
                        <button onclick="exportErrorLogs()"
                            style="padding: 8px 15px; background: var(--secondary); color: white; border: none; border-radius: 5px; cursor: pointer;">DÄ±ÅŸa
                            Aktar</button>
                        <button onclick="clearOldLogs()"
                            style="padding: 8px 15px; background: #ff9800; color: white; border: none; border-radius: 5px; cursor: pointer;">Eski
                            LoglarÄ± Temizle</button>
                    </div>
                </div>

                <!-- Filters -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div>
                        <label>Seviye:</label><br>
                        <select id="logLevelFilter" onchange="filterErrorLogs()" style="margin-top: 5px; padding: 5px;">
                            <option value="">TÃ¼mÃ¼</option>
                            <option value="ERROR">ERROR</option>
                            <option value="WARN">WARN</option>
                            <option value="INFO">INFO</option>
                            <option value="DEBUG">DEBUG</option>
                        </select>
                    </div>
                    <div>
                        <label>BileÅŸen:</label><br>
                        <select id="logComponentFilter" onchange="filterErrorLogs()"
                            style="margin-top: 5px; padding: 5px;">
                            <option value="">TÃ¼mÃ¼</option>
                            <option value="SLIDESHOW">SLIDESHOW</option>
                            <option value="ADMIN">ADMIN</option>
                            <option value="API">API</option>
                            <option value="TRANSITIONS">TRANSITIONS</option>
                            <option value="MEDIA">MEDIA</option>
                            <option value="DATABASE">DATABASE</option>
                            <option value="SYSTEM">SYSTEM</option>
                        </select>
                    </div>
                    <div>
                        <label>Son:</label><br>
                        <select id="logTimeFilter" onchange="filterErrorLogs()" style="margin-top: 5px; padding: 5px;">
                            <option value="">TÃ¼mÃ¼</option>
                            <option value="1h">Son 1 Saat</option>
                            <option value="24h">Son 24 Saat</option>
                            <option value="7d">Son 7 GÃ¼n</option>
                            <option value="30d">Son 30 GÃ¼n</option>
                        </select>
                    </div>
                </div>

                <!-- Error Logs List -->
                <div id="errorLogsList" style="max-height: 600px; overflow-y: auto;">
                    <p style="text-align: center; color: #666; padding: 20px;">YÃ¼kleniyor...</p>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <!-- Settings Section - REDESIGNED -->
        <div id="settings" class="content-section">

            <!-- Header -->
            <div
                style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 15px; color: white; margin-bottom: 25px; box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);">
                <h1 style="margin: 0 0 10px 0; font-size: 2rem; display: flex; align-items: center; gap: 10px;">
                    âš™ï¸ Sistem AyarlarÄ±
                </h1>
                <p style="margin: 0; opacity: 0.95; font-size: 1rem;">
                    Ana sayfa ve ekran iÃ§in detaylÄ± ayarlarÄ± yapÄ±landÄ±rÄ±n
                </p>
            </div>

            <!-- Settings Grid -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 20px;">

                <!-- Display Settings Card - ENHANCED -->
                <div class="card"
                    style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; border: none; padding: 30px;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.4rem;">
                        ğŸ–¥ï¸ Ekran AyarlarÄ±
                    </h2>
                    <p style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 25px;">
                        Ana ekran gÃ¶rÃ¼nÃ¼m ve davranÄ±ÅŸÄ±nÄ± Ã¶zelleÅŸtirin
                    </p>

                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Display Mode -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ“º Ekran Modu
                            </label>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button onclick="setDisplayMode('normal')" id="displayModeNormal"
                                    style="flex: 1; min-width: 120px; padding: 10px; background: white; border: 2px solid #667eea; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    ğŸªŸ Normal
                                </button>
                                <button onclick="setDisplayMode('fullscreen')" id="displayModeFullscreen"
                                    style="flex: 1; min-width: 120px; padding: 10px; background: white; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    â›¶ Tam Ekran
                                </button>
                                <button onclick="setDisplayMode('kiosk')" id="displayModeKiosk"
                                    style="flex: 1; min-width: 120px; padding: 10px; background: white; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    ğŸ¢ Kiosk
                                </button>
                            </div>
                            <small style="display: block; margin-top: 8px; opacity: 0.85;">
                                ğŸ’¡ <strong>Normal:</strong> Pencere modu | <strong>Tam Ekran:</strong> F11 gibi |
                                <strong>Kiosk:</strong> Sadece iÃ§erik
                            </small>
                        </div>

                        <!-- Connection Mode -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸŒ BaÄŸlantÄ± Modu
                            </label>
                            <div style="display: flex; gap: 10px;">
                                <button onclick="setConnectionMode('offline')" id="connOffline"
                                    style="flex: 1; padding: 10px; background: white; border: 2px solid #667eea; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                    <span>ğŸš«</span> Offline
                                </button>
                                <button onclick="setConnectionMode('online')" id="connOnline"
                                    style="flex: 1; padding: 10px; background: white; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; color: #333; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                    <span>ğŸŒ</span> Online
                                </button>
                            </div>
                            <small style="display: block; margin-top: 8px; opacity: 0.85; font-size: 0.85rem;">
                                ğŸ’¡ <strong>Offline:</strong> Yerel fontlar, hÄ±zlÄ± | <strong>Online:</strong> Google
                                Fonts, hava durumu
                            </small>
                        </div>

                        <!-- Theme -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ¨ Renk TemasÄ±
                            </label>
                            <div style="display: flex; gap: 10px;">
                                <button onclick="setColorTheme('light')" id="themeLight"
                                    style="flex: 1; padding: 10px; background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%); border: 2px solid #667eea; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">
                                    â˜€ï¸ AÃ§Ä±k
                                </button>
                                <button onclick="setColorTheme('dark')" id="themeDark"
                                    style="flex: 1; padding: 10px; background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; color: white;">
                                    ğŸŒ™ Koyu
                                </button>
                                <button onclick="setColorTheme('auto')" id="themeAuto"
                                    style="flex: 1; padding: 10px; background: linear-gradient(135deg, #ffffff 0%, #2c3e50 100%); border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">
                                    ğŸŒ— Otomatik
                                </button>
                            </div>
                        </div>

                        <!-- Font Size -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ”¤ YazÄ± Boyutu
                            </label>
                            <input type="range" id="fontSize" min="80" max="150" value="100" step="10"
                                oninput="updateFontSizeDisplay()"
                                style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #667eea, #764ba2); outline: none; cursor: pointer;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.9rem; margin-top: 8px; font-weight: 600;">
                                <span>80%</span>
                                <span id="fontSizeValue" style="color: #667eea; font-size: 1.1rem;">100%</span>
                                <span>150%</span>
                            </div>
                            <div id="fontSizePreview"
                                style="margin-top: 10px; padding: 12px; background: white; border-radius: 6px; text-align: center; font-size: 1rem; font-weight: 500;">
                                Ã–nizleme: SÄ±nÄ±f Panosu
                            </div>
                        </div>

                        <!-- Auto Refresh with Live Countdown -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ”„ Otomatik Yenileme
                            </label>
                            <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
                                <input type="number" id="autoRefreshInterval" min="0" max="120" value="0"
                                    oninput="updateRefreshDisplay()"
                                    style="flex: 1; padding: 10px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; font-size: 1rem;">
                                <span style="font-weight: 600;">dakika</span>
                            </div>
                            <div id="refreshStatus"
                                style="padding: 10px; background: white; border-radius: 6px; text-align: center; font-size: 0.9rem;">
                                â¸ï¸ KapalÄ±
                            </div>
                            <small style="display: block; margin-top: 8px; opacity: 0.85;">
                                ğŸ’¡ 0 = KapalÄ± | 5-15 dk Ã¶nerilen | 120 dk maximum
                            </small>
                        </div>

                        <!-- Clock Format with Preview -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ• Saat FormatÄ±
                            </label>
                            <select id="clockFormat" onchange="updateClockPreview()"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; font-size: 1rem; cursor: pointer;">
                                <option value="24">24 Saat FormatÄ±</option>
                                <option value="12">12 Saat FormatÄ± (AM/PM)</option>
                            </select>
                            <div id="clockPreview"
                                style="margin-top: 10px; padding: 12px; background: white; border-radius: 6px; text-align: center; font-size: 1.5rem; font-weight: 600; color: #667eea;">
                                14:30:45
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Noise Meter Settings - ENHANCED -->
                <div class="card"
                    style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); color: #333; border: none; padding: 30px;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.4rem;">
                        ğŸ”Š GÃ¼rÃ¼ltÃ¼ Ã–lÃ§er AyarlarÄ±
                    </h2>
                    <p style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 25px;">
                        Ses hassasiyeti ve uyarÄ± seviyelerini hassas ÅŸekilde ayarlayÄ±n
                    </p>

                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Quick Presets -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                âš¡ HÄ±zlÄ± Ayarlar
                            </label>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                                <button onclick="setNoisePreset('quiet')"
                                    style="padding: 10px; background: linear-gradient(135deg, #a8edea, #fed6e3); border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    ğŸ˜Œ Sessiz
                                </button>
                                <button onclick="setNoisePreset('normal')"
                                    style="padding: 10px; background: linear-gradient(135deg, #ffecd2, #fcb69f); border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    ğŸ˜Š Normal
                                </button>
                                <button onclick="setNoisePreset('active')"
                                    style="padding: 10px; background: linear-gradient(135deg, #fa709a, #fee140); border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                                    ğŸ‰ Aktif
                                </button>
                            </div>
                            <small style="display: block; margin-top: 8px; opacity: 0.85;">
                                ğŸ’¡ SÄ±nÄ±f durumuna gÃ¶re Ã¶nceden ayarlanmÄ±ÅŸ profiller
                            </small>
                        </div>

                        <!-- Sensitivity with Visual Feedback -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ“Š Hassasiyet Seviyesi
                            </label>
                            <input type="range" id="noiseSensitivity" min="1" max="10" value="5"
                                oninput="updateSensitivityDisplay()"
                                style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #00ff88, #aa66ff); outline: none; cursor: pointer;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.9rem; margin-top: 8px;">
                                <span>ğŸ”‡ DÃ¼ÅŸÃ¼k</span>
                                <span id="sensitivityValue"
                                    style="font-weight: 600; font-size: 1.2rem; color: #667eea;">5</span>
                                <span>ğŸ”Š YÃ¼ksek</span>
                            </div>
                            <div style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px;">
                                <div style="font-size: 0.85rem; margin-bottom: 5px; font-weight: 600;">Hassasiyet
                                    AÃ§Ä±klamasÄ±:</div>

                                <div id="sensitivityDescription" style="font-size: 0.9rem; color: #666;">
                                    Orta seviye - Standart sÄ±nÄ±f ortamÄ± iÃ§in uygundur
                                </div>
                            </div>
                        </div>

                        <!-- Thresholds with Live Preview -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 12px; font-size: 1.05rem;">
                                ğŸ¯ EÅŸik DeÄŸerleri
                            </label>

                            <!-- Warning Threshold -->
                            <div style="margin-bottom: 15px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">âš ï¸ UyarÄ± EÅŸiÄŸi</span>
                                    <span id="warningValue"
                                        style="font-weight: 600; color: #ff9800; font-size: 1.1rem;">70%</span>
                                </div>
                                <input type="range" id="warningThreshold" min="0" max="95" value="70"
                                    oninput="updateThresholdDisplay()"
                                    style="width: 100%; height: 6px; border-radius: 5px; background: linear-gradient(to right, #4caf50, #ff9800); outline: none; cursor: pointer;">
                            </div>

                            <!-- Danger Threshold -->
                            <div>
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">ğŸš¨ Tehlike EÅŸiÄŸi</span>
                                    <span id="dangerValue"
                                        style="font-weight: 600; color: #f44336; font-size: 1.1rem;">85%</span>
                                </div>
                                <input type="range" id="dangerThreshold" min="5" max="100" value="85"
                                    oninput="updateThresholdDisplay()"
                                    style="width: 100%; height: 6px; border-radius: 5px; background: linear-gradient(to right, #ff9800, #f44336); outline: none; cursor: pointer;">
                            </div>

                            <!-- Visual Preview -->
                            <div style="margin-top: 15px; padding: 12px; background: white; border-radius: 8px;">
                                <div style="font-size: 0.85rem; margin-bottom: 8px; font-weight: 600;">ğŸ“Š Renkli
                                    Ã–nizleme:</div>
                                <div
                                    style="display: flex; height: 30px; border-radius: 6px; overflow: hidden; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);">
                                    <div id="previewGreen" style="background: #4caf50; transition: all 0.3s;"></div>
                                    <div id="previewOrange" style="background: #ff9800; transition: all 0.3s;"></div>
                                    <div id="previewRed" style="background: #f44336; transition: all 0.3s;"></div>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; margin-top: 5px; font-size: 0.75rem; opacity: 0.8;">
                                    <span>0%</span>
                                    <span id="warningLabel">70%</span>
                                    <span id="dangerLabel">85%</span>
                                    <span>100%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Test Button -->
                        <div style="padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px;">
                            <button onclick="testNoiseMeter()"
                                style="width: 100%; padding: 14px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 1.05rem; font-weight: 600; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); transition: all 0.3s;">
                                ğŸ¤ Mikrofonu Test Et
                            </button>
                            <div id="testResult"
                                style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px; text-align: center; font-size: 0.9rem; font-weight: 500;">
                                Test sonucu burada gÃ¶rÃ¼necek
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slideshow Settings -->
                <div class="card"
                    style="background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); color: #333; border: none; padding: 25px;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.3rem;">
                        ğŸ¬ Slayt GÃ¶sterisi AyarlarÄ±
                    </h2>
                    <p style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 20px;">
                        Slayt gÃ¶sterisinin davranÄ±ÅŸÄ±nÄ± Ã¶zelleÅŸtirin
                    </p>

                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <!-- Auto Play -->
                        <div>
                            <label
                                style="display: flex; align-items: center; gap: 10px; font-weight: 600; cursor: pointer;">
                                <input type="checkbox" id="slideshowAutoPlay" checked>
                                <span>â–¶ï¸ Otomatik BaÅŸlat</span>
                            </label>
                            <small style="display: block; margin-top: 5px; margin-left: 28px; opacity: 0.8;">
                                Sayfa yÃ¼klendiÄŸinde slayt gÃ¶sterisini baÅŸlat
                            </small>
                        </div>

                        <!-- Loop -->
                        <div>
                            <label
                                style="display: flex; align-items: center; gap: 10px; font-weight: 600; cursor: pointer;">
                                <input type="checkbox" id="slideshowLoop" checked>
                                <span>ğŸ” DÃ¶ngÃ¼ Modunda Ã‡alÄ±ÅŸtÄ±r</span>
                            </label>
                            <small style="display: block; margin-top: 5px; margin-left: 28px; opacity: 0.8;">
                                Son slaytta baÅŸa dÃ¶n
                            </small>
                        </div>

                        <!-- Show Progress -->
                        <div>
                            <label
                                style="display: flex; align-items: center; gap: 10px; font-weight: 600; cursor: pointer;">
                                <input type="checkbox" id="slideshowProgress" checked>
                                <span>ğŸ“Š Ä°lerleme Ã‡ubuÄŸu GÃ¶ster</span>
                            </label>
                            <small style="display: block; margin-top: 5px; margin-left: 28px; opacity: 0.8;">
                                Alt kÄ±sÄ±mda ilerleme Ã§ubuÄŸu gÃ¶ster
                            </small>
                        </div>
                    </div>
                </div>

                <!-- Equalizer Theme Card -->
                <div class="card"
                    style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #333; border: none; padding: 25px;">
                    <h2 style="margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; font-size: 1.3rem;">
                        ğŸ¨ Ekolayzer TemasÄ±
                    </h2>
                    <p style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 20px;">
                        GÃ¼rÃ¼ltÃ¼ Ã¶lÃ§er iÃ§in renk temasÄ± seÃ§in
                    </p>

                    <!-- GERÃ‡EK MÄ°KROFON Ä°LE Ã‡ALIÅAN EQUALÄ°ZER Ã–NÄ°ZLEME -->
                    <div id="admin-noise-preview"
                        style="background: rgba(0,0,0,0.85); border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                        <!-- Equalizer Container - Ana sayfa ile birebir aynÄ± yapÄ± -->
                        <div class="equalizer-container theme-neon" id="equalizer-container" style="height: 100px;">
                            <span class="eq-label">ğŸ™ï¸</span>
                            <div class="equalizer-bars">
                                <!-- 64 Bar - noise-meter.js tarafÄ±ndan dolduruluyor -->
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button id="admin-mic-btn" onclick="startAdminMicrophone()"
                                style="padding: 10px 25px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                ğŸ¤ Mikrofonu BaÅŸlat
                            </button>
                            <div id="admin-mic-status" style="margin-top: 8px; font-size: 0.85rem; color: #aaa;">
                                Mikrofon bekleniyor...
                            </div>
                        </div>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 15px; padding: 10px;">
                        <button onclick="setEqualizerTheme('neon')" id="theme-btn-neon"
                            class="theme-btn btn-neon">Neon</button>
                        <button onclick="setEqualizerTheme('ocean')" id="theme-btn-ocean"
                            class="theme-btn btn-ocean">Ocean</button>
                        <button onclick="setEqualizerTheme('sunset')" id="theme-btn-sunset"
                            class="theme-btn btn-sunset">Sunset</button>
                        <button onclick="setEqualizerTheme('forest')" id="theme-btn-forest"
                            class="theme-btn btn-forest">Forest</button>
                        <button onclick="setEqualizerTheme('love')" id="theme-btn-love"
                            class="theme-btn btn-love">Love</button>
                        <button onclick="setEqualizerTheme('royal')" id="theme-btn-royal"
                            class="theme-btn btn-royal">Royal</button>
                        <button onclick="setEqualizerTheme('ice')" id="theme-btn-ice"
                            class="theme-btn btn-ice">Ice</button>
                        <button onclick="setEqualizerTheme('fire')" id="theme-btn-fire"
                            class="theme-btn btn-fire">Fire</button>
                        <button onclick="setEqualizerTheme('matrix')" id="theme-btn-matrix"
                            class="theme-btn btn-matrix">Matrix</button>
                        <button onclick="setEqualizerTheme('rainbow')" id="theme-btn-rainbow"
                            class="theme-btn btn-rainbow">Rainbow</button>
                    </div>

                </div>
                <div id="currentThemeDisplay"
                    style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.1); border-radius: 8px; font-weight: 600; text-align: center;">
                </div>
            </div>
        </div>

        <!-- Save Button -->
        <div style="margin-top: 25px; text-align: center;">
            <button onclick="saveAllSettings()"
                style="padding: 15px 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-size: 1.1rem; font-weight: 600; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); transition: all 0.3s;"
                onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                ğŸ’¾ TÃ¼m AyarlarÄ± Kaydet
            </button>
        </div>

        <!-- Info Section -->
        <div class="card"
            style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #e0e7ff 0%, #cfe2ff 100%); border: none;">
            <div style="display: flex; align-items: center; gap: 15px;">
                <div style="font-size: 3rem;">â„¹ï¸</div>
                <div>
                    <h3 style="margin: 0 0 8px 0; color: #333;">Sistem Bilgisi</h3>
                    <p style="margin: 0; color: #666; font-size: 0.95rem;">
                        âœ… Sistem tamamen lokal Ã§alÄ±ÅŸmaktadÄ±r. Ä°nternet baÄŸlantÄ±sÄ± gerekmez.<br>
                        âœ… Ayarlar tarayÄ±cÄ±da saklanÄ±r, her cihaz iÃ§in ayrÄ± ayrÄ± yapÄ±landÄ±rÄ±lmalÄ±dÄ±r.<br>
                        âœ… DeÄŸiÅŸiklikler anÄ±nda uygulanÄ±r, ana sayfa otomatik gÃ¼ncellenir.
                    </p>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrModal" class="qr-modal">
        <div class="qr-content">
            <h2>Mobil BaÄŸlantÄ±</h2>
            <p>Bu QR kodu telefonunuzla tarayÄ±n:</p>
            <div id="qrcode" style="margin: 20px auto; display: flex; justify-content: center;"></div>
            <button onclick="closeQRCode()">Kapat</button>
        </div>
    </div>

    <!-- Photo Upload Modal -->
    <div id="photoUploadModal" class="qr-modal" style="display: none;">
        <div class="qr-content">
            <h2>Resim YÃ¼kle</h2>
            <p><strong id="photoUploadStudentName"></strong> iÃ§in resim yÃ¼kleyin</p>
            <form id="photoUploadForm" style="display: flex; flex-direction: column; gap: 15px; margin-top: 20px;">
                <input type="hidden" id="photoUploadStudentId">
                <input type="file" id="photoFileInput" accept="image/*" required style="padding: 10px;">
                <div style="display: flex; gap: 10px;">
                    <button type="submit"
                        style="flex: 1; padding: 10px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">YÃ¼kle</button>
                    <button type="button" onclick="closePhotoUploadModal()"
                        style="flex: 1; padding: 10px; background: #ccc; color: black; border: none; border-radius: 5px; cursor: pointer;">Ä°ptal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Slide Form Modal - IMPROVED UI -->
    <div id="slideFormModal" class="qr-modal" style="display: none;">
        <div class="qr-content" style="max-width: 750px; max-height: 90vh; overflow-y: auto; padding: 30px;">
            <h2 id="slideFormTitle" style="margin-bottom: 10px; color: var(--primary);">ğŸ¬ Yeni Slayt Ekle</h2>
            <p style="color: #666; font-size: 0.95rem; margin-bottom: 25px;">
                SlaytÄ±nÄ±zÄ±n iÃ§eriÄŸini, gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ ve geÃ§iÅŸ efektlerini Ã¶zelleÅŸtirebilirsiniz.
            </p>

            <form id="slideForm" style="display: flex; flex-direction: column; gap: 25px;">
                <input type="hidden" id="slideId">

                <!-- SECTION 1: TEMEL BÄ°LGÄ°LER -->
                <div
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 12px; color: white;">
                    <h3 style="margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        ğŸ“ Temel Bilgiler
                    </h3>

                    <div style="display: grid; gap: 15px;">
                        <!-- BaÅŸlÄ±k -->
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                BaÅŸlÄ±k <span style="opacity: 0.7; font-size: 0.9rem;">(opsiyonel)</span>
                            </label>
                            <input type="text" id="slideTitle" placeholder="Ã–rn: SÄ±nÄ±f KurallarÄ±"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem;">
                            <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.85rem;">
                                ğŸ’¡ SlaytÄ± tanÄ±mlamak iÃ§in kÄ±sa bir baÅŸlÄ±k
                            </small>
                        </div>

                        <!-- Ä°Ã§erik Tipi -->
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                Ä°Ã§erik Tipi <span style="color: #ffeb3b;">*</span>
                            </label>
                            <select id="slideContentType" required
                                style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; cursor: pointer;">
                                <option value="">ğŸ”½ SeÃ§iniz</option>
                                <option value="rule">ğŸ“œ Kural</option>
                                <option value="announcement">ğŸ“¢ Duyuru</option>
                                <option value="photo">ğŸ“· FotoÄŸraf SlaytÄ±</option>
                                <option value="celebration">ğŸ‰ Kutlama Videosu</option>
                                <option value="custom">âš™ï¸ Ã–zel</option>
                            </select>
                            <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.85rem;">
                                ğŸ’¡ SlaytÄ±n gÃ¶rÃ¼ntÃ¼leneceÄŸi baÄŸlamÄ± belirler
                            </small>
                        </div>
                    </div>
                </div>

                <!-- SECTION 2: MEDYA DOSYASI -->
                <div
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 20px; border-radius: 12px; color: white;">
                    <h3 style="margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        ğŸ¨ Medya DosyasÄ±
                    </h3>

                    <div>
                        <label id="slideMediaLabel" style="display: block; margin-bottom: 8px; font-weight: 500;">
                            ğŸ“ Resim, GIF veya Video <span style="color: #ffeb3b;">*</span>
                        </label>

                        <input type="file" id="slideMedia" name="slide" accept="image/*,video/*"
                            style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 0.95rem; cursor: pointer;">
                        <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.85rem;">
                            ğŸ’¡ Maksimum dosya boyutu: 100 MB | Desteklenen: JPG, PNG, GIF, MP4, WEBM
                        </small>

                        <!-- Preview -->
                        <div id="slideMediaPreview"
                            style="margin-top: 15px; min-height: 150px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.2); border-radius: 8px; padding: 15px; border: 2px dashed rgba(255,255,255,0.3);">
                            <span style="opacity: 0.6;">ğŸ“‹ Ã–nizleme burada gÃ¶rÃ¼necek</span>
                        </div>

                        <div id="slideMediaInfo"
                            style="margin-top: 8px; font-size: 0.9rem; background: rgba(0,0,0,0.2); padding: 8px; border-radius: 6px;">
                        </div>
                        <div id="slideCurrentMediaInfo"
                            style="margin-top: 8px; font-size: 0.9rem; background: rgba(76, 175, 80, 0.3); padding: 8px; border-radius: 6px; font-weight: 600;">
                        </div>

                        <!-- Upload Progress -->
                        <div id="slideUploadProgress" style="display: none; margin-top: 12px;">
                            <div
                                style="background: rgba(255,255,255,0.3); border-radius: 8px; height: 24px; overflow: hidden;">
                                <div id="slideProgressBar"
                                    style="background: linear-gradient(90deg, #4CAF50, #8BC34A); height: 100%; width: 0%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.85rem;">
                                </div>
                            </div>
                            <div id="slideProgressText"
                                style="text-align: center; margin-top: 8px; font-size: 0.9rem; font-weight: 500;"></div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 3: Ä°Ã‡ERÄ°K (Conditional) -->
                <div id="slideTextContentDiv"
                    style="display: none; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; border-radius: 12px; color: white;">
                    <h3 style="margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        âœï¸ Metin Ä°Ã§eriÄŸi
                    </h3>
                    <label style="display: block; margin-bottom: 8px; font-weight: 500;">
                        Kural veya Duyuru Metni
                    </label>
                    <textarea id="slideTextContent" rows="4" placeholder="KuralÄ±nÄ±zÄ± veya duyurunuzu buraya yazÄ±n..."
                        style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem; resize: vertical; font-family: inherit;"></textarea>
                    <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.85rem;">
                        ğŸ’¡ Bu metin slaytÄ±n Ã¼zerinde gÃ¶rÃ¼necektir
                    </small>
                </div>

                <!-- SECTION 4: ZAMANLAMA -->
                <div
                    style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 20px; border-radius: 12px; color: white;">
                    <h3 style="margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        â±ï¸ Zamanlama AyarlarÄ±
                    </h3>

                    <div style="display: grid; gap: 15px;">
                        <!-- GÃ¶sterim SÃ¼resi -->
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                Ekranda Kalma SÃ¼resi <span style="opacity: 0.7; font-size: 0.9rem;">(saniye)</span>
                            </label>
                            <input type="number" id="slideDisplayDuration" min="1" max="60"
                                placeholder="VarsayÄ±lan: 10 saniye"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.95); font-size: 1rem;">
                            <small style="display: block; margin-top: 5px; opacity: 0.9; font-size: 0.85rem;">
                                ğŸ’¡ BoÅŸ bÄ±rakÄ±rsanÄ±z sistem varsayÄ±lanÄ± kullanÄ±lÄ±r (10 saniye)
                            </small>
                        </div>

                        <!-- Video Auto Advance -->
                        <div id="slideVideoSettings"
                            style="display: none; background: rgba(0,0,0,0.15); padding: 12px; border-radius: 8px;">
                            <label
                                style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 1rem;">
                                <input type="checkbox" id="slideVideoAutoAdvance"
                                    style="width: 20px; height: 20px; cursor: pointer;">
                                <span>ğŸ¬ Video bitince otomatik olarak sonraki slayta geÃ§</span>
                            </label>
                            <small
                                style="display: block; margin-top: 8px; margin-left: 30px; opacity: 0.9; font-size: 0.85rem;">
                                ğŸ’¡ Ä°ÅŸaretlenirse video bittiÄŸinde beklenmeden geÃ§iÅŸ yapÄ±lÄ±r
                            </small>
                        </div>
                    </div>
                </div>

                <!-- SECTION 5: GEÃ‡Ä°Å EFEKTLERÄ° -->
                <div
                    style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); padding: 20px; border-radius: 12px; color: #333;">
                    <h3
                        style="margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; color: #333;">
                        âœ¨ GeÃ§iÅŸ Efektleri
                    </h3>

                    <div style="display: grid; gap: 15px;">
                        <!-- GeÃ§iÅŸ Modu -->
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                GeÃ§iÅŸ Modu
                            </label>
                            <select id="slideTransitionMode"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; background: white; font-size: 1rem; cursor: pointer;">
                                <option value="auto">ğŸ¤– Otomatik (AkÄ±llÄ± SeÃ§im)</option>
                                <option value="random">ğŸ² Rastgele</option>
                                <option value="manual">ğŸ¯ Manuel (Kendiniz seÃ§in)</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: #666; font-size: 0.85rem;">
                                ğŸ’¡ <strong>Otomatik:</strong> Yapay zeka uygun efekti seÃ§er | <strong>Rastgele:</strong>
                                Her seferinde farklÄ± | <strong>Manuel:</strong> Siz belirleyin
                            </small>
                        </div>

                        <!-- Manuel GeÃ§iÅŸ Efekti (Conditional) -->
                        <div id="slideTransitionManualDiv" style="display: none;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                GeÃ§iÅŸ Efekti SeÃ§imi
                            </label>
                            <select id="slideTransitionType"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; background: white; font-size: 1rem; cursor: pointer;">
                                <option value="">VarsayÄ±lan (Fade)</option>
                                <optgroup label="ğŸ­ Basit GeÃ§iÅŸler">
                                    <option value="fade">Fade (Kararma/AydÄ±nlanma)</option>
                                    <option value="slide-left">â¬…ï¸ Sola KaydÄ±r</option>
                                    <option value="slide-right">â¡ï¸ SaÄŸa KaydÄ±r</option>
                                    <option value="slide-up">â¬†ï¸ YukarÄ± KaydÄ±r</option>
                                    <option value="slide-down">â¬‡ï¸ AÅŸaÄŸÄ± KaydÄ±r</option>
                                </optgroup>
                                <optgroup label="ğŸ¨ Dinamik Efektler">
                                    <option value="zoom-in">ğŸ” YakÄ±nlaÅŸtÄ±r</option>
                                    <option value="zoom-out">ğŸ” UzaklaÅŸtÄ±r</option>
                                    <option value="rotate">ğŸ”„ DÃ¶ndÃ¼r</option>
                                    <option value="flip">ğŸ” Ã‡evir</option>
                                </optgroup>
                                <optgroup label="ğŸš€ Ä°leri Seviye">
                                    <option value="blur">ğŸ’« Blur (BulanÄ±klaÅŸtÄ±r)</option>
                                    <option value="glitch">âš¡ Glitch</option>
                                    <option value="particle">âœ¨ Particle</option>
                                    <option value="morph">ğŸŒ€ Morph</option>
                                    <option value="wipe">ğŸ¬ Wipe</option>
                                    <option value="dissolve">ğŸ’§ Dissolve</option>
                                    <option value="cube">ğŸ“¦ Cube</option>
                                    <option value="cover">ğŸ“„ Cover</option>
                                    <option value="uncover">ğŸ“ƒ Uncover</option>
                                    <option value="push">â†—ï¸ Push</option>
                                </optgroup>
                            </select>
                            <small style="display: block; margin-top: 5px; color: #666; font-size: 0.85rem;">
                                ğŸ’¡ FarklÄ± efektleri deneyerek size en uygun olanÄ± bulabilirsiniz
                            </small>
                        </div>

                        <!-- GeÃ§iÅŸ SÃ¼resi -->
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                                GeÃ§iÅŸ Animasyon SÃ¼resi <span style="opacity: 0.7; font-size: 0.9rem;">(saniye)</span>
                            </label>
                            <input type="number" id="slideTransitionDuration" min="0.5" max="3" step="0.1"
                                placeholder="VarsayÄ±lan: 1 saniye"
                                style="width: 100%; padding: 10px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; background: white; font-size: 1rem;">
                            <small style="display: block; margin-top: 5px; color: #666; font-size: 0.85rem;">
                                ğŸ’¡ GeÃ§iÅŸ animasyonunun ne kadar sÃ¼receÄŸi (0.5 - 3 saniye arasÄ± Ã¶nerilir)
                            </small>
                        </div>
                    </div>
                </div>

                <!-- ACTION BUTTONS -->
                <div
                    style="display: flex; gap: 12px; margin-top: 10px; padding-top: 20px; border-top: 2px solid rgba(0,0,0,0.1);">
                    <button type="submit"
                        style="flex: 1; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 1.1rem; font-weight: 600; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); transition: all 0.3s;">
                        ğŸ’¾ Kaydet
                    </button>
                    <button type="button" onclick="closeSlideForm()"
                        style="flex: 1; padding: 15px; background: #e0e0e0; color: #333; border: none; border-radius: 10px; cursor: pointer; font-size: 1.1rem; font-weight: 600; transition: all 0.3s;">
                        âŒ Ä°ptal
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- QRCode library removed - using simple URL display for offline operation -->

    <!-- SheetJS for Excel parsing -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

    <script src="../js/config.js"></script>
    <script src="../js/api-service.js"></script>
    <script src="../js/interval-manager.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/logger.js"></script>
    <script src="settings-handler.js"></script>
    <script src="admin.js"></script>
</body>

</html>
```